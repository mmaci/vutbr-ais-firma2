% nastavenia prostredia
\documentclass[12pt,a4paper,titlepage,final]{report}
\usepackage[utf8]{inputenc}
\usepackage[T1, IL2]{fontenc}
\usepackage{graphicx}
\usepackage{epstopdf}
\usepackage{caption}
\usepackage[top=3cm, left=1cm, right=1cm, text={17cm, 24cm}, ignorefoot]{geometry}
\usepackage{color}
\usepackage{url}
\usepackage[bookmarksopen,colorlinks,plainpages=false,urlcolor=blue,unicode]{hyperref}

\begin{document}
	% define
	\def\authora{Michal Riša}
	\def\authorb{Pavel Macenauer}
	\def\emaila{xrisam01@stud.fit.vutbr.cz}
	\def\emailb{xmacen02@stud.fit.vutbr.cz}
	\def\docname{Firma2}
	\def\projname{Prvotná analýza a plán projektu}
	% titulna strana
	\input{titlepage.tex}
	% kapitoly
	\newpage
	\pagestyle{plain}
	\pagenumbering{arabic}
	\setcounter{page}{1}
	\setcounter{secnumdepth}{-1}
	

		% ----------- neformalni specifikace -----------

	\chapter{Analýza}
	
	\section{Neformální specifikace}
	Cílem projektu je navrhnout jednoduchý informační systém pro firmu organizující kursy orientované na programové vybavení počítačů, který ji umožní spravovat termíny kursů a zpracovávat přihlášky zákazníků.
	
	Kursy probíhají v pronajatých prostorech o různých kapacitách za vedení externích lektorů v různé termíny. Systém by tak měl zahrnovat možnost vypisovat kursy a k nim vytvořit prezentační (informační) stránku, ze které zákazník vyčte potřebné informace o kursu. Ke každému kurzu se budou vypisovat termíny a termínům přiřazovat cena, místo konání a lektor. Všechny tyto nastavení bude možno nadále i měnit.
	
	Součástí systému je i rozhraní, které umožní zákazníkům se přihlašovat na termíny. Každá přihláška bude mít jedinečný identifikátor, přes který bude možnost ji dohledat nebo spravovat. Po přihlášení se bude přihláška postupně zpracovávat pomocí daného protokolu mezi zákazníkem a zaměstnancem (přihlášení - potvrzení/odmítnutí - zaplacení - potvrzení platby).
	
	Systém by měl umožňovat správu uživatelů a změnu rolí jednotlivých uživatelů - lektor, zaměstnanec, administrátor. Tuto možnost bude mít pouze administrátor. Zákazníci nebudou mít uživatelské role a v systému budou evidování pomocí svých přihlášek.
	
	Zaměstnanec bude moci kdykoliv uzavřít nebo naopak otevřít přihlašování. I po zpracování přihlášky bude možnost měnit její stav, tzn. vyřadit ji z termínu nebo vrátit/zrušit platbu.
	
	Zákazníci budou mít možnost zažádat o vypsání konkrétního termínu nebo i kursu. Tato součást systému bude řešena jako komunikační kanál mezi žádajícím a zaměstnancem.
	
	Pro snadnou organizaci kurzů se budou jednotlivé termíny kursů zobrazovat v kalendáři, který si budou moci uživatelé systému zobrazit. Úroveň detailu kalendáře bude záviset na konkrétní roli uživatele.
	
	Systém bude implementován jako webová aplikace, která bude komunikovat s databázovým serverem. Bude se skládat ze 2 součástí - front-end (přes který se budou přihlašovat zákazníci s důrazem především na přehlednost, jednoduchost a visuální stránku věci)
a back-end (přes který se budou spravovat přihlášky, termíny, kursy, uživatelé a mj. zde najdeme zde i kalendář).

		% ----------- analyza pozadavku -----------

	\section{Analýza požadavků}
	Z neformální specifikace plynou následující požadavky:
	
	\subsection{Aktéři}		
	
		\begin{itemize}
			\item Uživatel: není přihlášen nebo evidován v systému, má možnost přihlašovat se na termíny kurzů a upravovat svou přihlášku přes její jedinečný identifikátor.
			\item Lektor: externista, který fyzicky vede kurzy, nemá práva jakkoliv zasahovat do organizace nebo vedení firmy, ale měl by být informován kdy, kde, koho a co vyučovat.
			\item Zaměstnanec: zaměstnanec firmy, který má na starosti veškerou správu plateb, kursů, termínů. Vypisuje tedy nové kursy a termíny, potvrzuje přihlášky a vykonává tak veškerou administrátorskou činnost spojenou s během firmy.
			\item Admin: vytváří a spravuje uživatele. Má přístup k citlivým částem informačního systému.
			\item Čas: reprezentuje autonomní/pravidelné činnosti systému, které se provádějí buď jako reakce na nějakou činnost jednoho z aktérů a nebo pravidelně
		\end{itemize}
		
	Využití vzájemné dědičnosti všech aktérů je výhodné především pro jednoduchost a přehlednost implementace, kdy každý aktér s vyššími právy bude vždy umět o něco více a nebudeme tak muset dělit aplikaci na části, které některý z uživatelů může používat, další ne a naopak, což zvyšuje složitost.
		
		
		% ----------- use case -----------
		
		
	\subsection{Diagram případů použití}
	
Nasledujúci diagram prípadov použitia prehľadne zobrazuje prípady použitia asociované s vyššie uvedenými aktérmi.
		\begin{center}
			\captionsetup{type=figure}
			\includegraphics[height=14cm]{img/use_case.eps}
			\captionof{figure}{Kompletní diagram případů použití.}
		\end{center}
		
	\subsection{Plán projektu}
	
Na základě analýzy projektu jsme se rozhodli rozdělit projekt na 4 iterace. V prvních 2 se vytvoří prototypy obsahující drtivou většinu funkcí celého systému. Následně ve 3. iteraci se projekt překlopí již na konečnou implementaci a ve 4. se budou dodělávat funkčnosti usnadňující práci se systémem a zvyšující jeho přehlednost.
	
Prototypování po prvních 2 iteracích nám umožní zhodnotit použitelnost systému dříve, než začne být implementována ostrá verze a pomůže ve shodě se zákazníkem.
	
	\subsubsection{1. iterácia}
		\begin{center}
			\captionsetup{type=figure}
			\includegraphics[height=17cm]{img/use_case_iter1.eps}
			\captionof{figure}{Diagram implementovaných případů použití po 1. iteraci.}
		\end{center}
		
Prototyp aplikace bude umět základní správu kurzů a termínů - přidávat a uzavírat kurzy a termíny. Zároveň bude umět přidávat přihlášky a vytvářet uživatele.
	
	\subsubsection{2. iterácia}
		\begin{center}
			\captionsetup{type=figure}
			\includegraphics[height=17cm]{img/use_case_iter2.eps}
			\captionof{figure}{Diagram implementovaných případů použití po 2. iteraci.}
		\end{center}			
Ve 2. iteraci se přidá většina zbývajících hlavních funkcí systému. Po přihlášení na kurz bude prototyp již umožňovat potvrdit/odmítnout platbu nebo přihlášku a posílat notifikace nebo upomínky.
	
	\subsubsection{3. iterácia}
		\begin{center}
			\captionsetup{type=figure}
			\includegraphics[height=17cm]{img/use_case_iter3.eps}
			\captionof{figure}{Diagram implementovaných případů použití po 3. iteraci.}
		\end{center}
		
Ve 3. iteraci by měl být zákazník spokojený s celkovou funkčností prototypu a ten se začne překlápět na již konečnou implementaci. Zároveň je přidána možnost žádosti o vypsání kursu/termínu a správy vlastní přihlášky.
	
	\subsubsection{4. iterácia}
		\begin{center}
			\captionsetup{type=figure}
			\includegraphics[height=17cm]{img/use_case.eps}
			\captionof{figure}{Diagram implementovaných případů použití po 4. iteraci.}
		\end{center}
		
Ve 4. iteraci se implementuje kalendář a evidence vrácených plateb. Jedná se především o detaily usnadňující práci se systémem, nikoliv už samotnou funkčnost.





%------------------- 1. ITERACE ---------------------%




\chapter{Specifikace případů použití a vyjímek}

\section{Přidat termín}
\begin{center}
    \begin{tabular}{ | p{4.5cm} | p{13cm} | }
    \hline
    \textbf{Název} & Přidat termín 
    \\ \hline
    
	\textbf{Vytvořeno} & Pavel Macenauer 
	\\ \hline
	
	\textbf{Popis} & Ke kurzu se vytvoří termín, tj. časový rozsah, kdy bude probíhat výuka daného kurzu. 
	\\ \hline
	    
	\textbf{Primární aktéři} & Zaměstnanec
	\\ \hline
	
	\textbf{Sekundární aktéři} & Admin		   
	\\ \hline
	
	\textbf{Předpoklady} & Vybrán existující kurz
    \\ \hline
    
    \textbf{Následné podmínky} & Přidán termín ke kurzu
    \\ \hline 
        
    \textbf{Akce pro spuštění} & Zaměstnanec klikne na tlačítko "Přidat termín" u konkrétního kurzu.
    \\ \hline
    
    \textbf{Hlavní tok} & 1. Zaměstnanec vybere konkrétní kurz 
    	\newline 2. Zaměstnanec klikne na "Přidat termín" 
    	\newline 3. Zaměstnanec vyplní formulář a klikne na "Přidat" 
    	\newline 4. Systém zpracuje formulář a přidá nový termín
    \\ \hline
    
    \textbf{Alternativní toky} & -
    \\ \hline -
    
    \textbf{Vyjímky} & 1. Chybné údaje ve formuláři
    	\newline 2. Obsazený lektor
    \\ \hline
    
	\textbf{Frekvence} & Několikrát za týden
	\\ \hline
	
	\textbf{Speciální požadavky} & -
	\\ \hline
    \end{tabular}
\end{center}	

\subsection{Přidat termín: chybný vstup}
\begin{center}
    \begin{tabular}{ | p{4.5cm} | p{13cm} | }
    \hline
    \textbf{Název} & Přidat termín: chybný vstup
    \\ \hline
    
	\textbf{Vytvořeno} & Pavel Macenauer 
	\\ \hline
	
	\textbf{Popis} & Uživatel při přihlášení na termín zadal nevalidní údaje, např. nesprávně zadaný email nebo telefonní číslo.
	\\ \hline
	    
	\textbf{Primární aktéři} & Zaměstnanec, systém
	\\ \hline
	
	\textbf{Sekundární aktéři} & -	   
	\\ \hline
	
	\textbf{Předpoklady} & 1. Vstup na formuláři nesplňuje validační podmínky
    \\ \hline
    
    \textbf{Následné podmínky} & 1. Systém zaměstnanci zobrazí, které údaje je třeba opravit
	    \newline 2. Systém nepřidává nový termín
    \\ \hline 
        
    \textbf{Akce pro spuštění} & Po kliknutí na tlačítko "Přidat" některý z údajů ve formuláři pro přidání nového termínu nesplňuje validační podmínky
    \\ \hline
    
    \textbf{Hlavní tok} & 1. Systém zkontroluje validační pravidla formuláře
    	\newline 2. Systém zjistí, že některé validační podmínky nejsou splněny
    	\newline 3. Systém zaměstnanci zobrazí, které formulářové prvky nesplňují validační pravidla
    \\ \hline    
    
	\textbf{Frekvence} & Často při vkládání termínu
	\\ \hline
	\end{tabular}
\end{center}

\subsection{Přidat termín: obsazený lektor}
\begin{center}
    \begin{tabular}{ | p{4.5cm} | p{13cm} | }
    \hline
    \textbf{Název} & Přidat termín: obsazený lektor
    \\ \hline
    
	\textbf{Vytvořeno} & Pavel Macenauer 
	\\ \hline
	
	\textbf{Popis} & Zaměstnanec přiřadí k termínu lektora, který již v daný termín vede termín jiného kurzu.
	\\ \hline
	    
	\textbf{Primární aktéři} & Zaměstnanec, systém
	\\ \hline
	
	\textbf{Sekundární aktéři} & -	   
	\\ \hline
	
	\textbf{Předpoklady} & 1. Lektor termínu má v daný termín, termín jiného kurzu
    \\ \hline
    
    \textbf{Následné podmínky} & 1. Systém zaměstnanci oznámí že vybraný lektor již nějaký termín má a požádá o výběr jiného lektora
	    \newline 2. Systém nepřidává nový termín
    \\ \hline 
        
    \textbf{Akce pro spuštění} & Vybraný lektor má v daný termín, termín jiného kurzu
    \\ \hline
    
    \textbf{Hlavní tok} & 1. Systém zjistí, že v zadaný termín má daný lektor termín jiného kurzu
    	\newline 2. Systém přesměruje uživatele zpět na formulář přidání nového termínu a upozorní zaměstnance, že je třeba zvolit jiného lektora nebo jiný čas
    \\ \hline    
    
	\textbf{Frekvence} & Vzácně při vkládání termínu
	\\ \hline
	\end{tabular}
\end{center}

\section{Přihlášení na termín}
\begin{center}
    \begin{tabular}{ | p{4.5cm} | p{13cm} | }
    \hline
    \textbf{Název} & Přihlášení na termín 
    \\ \hline
    
	\textbf{Vytvořeno} & Pavel Macenauer 
	\\ \hline
	
	\textbf{Popis} & Přihlášení se na konkrétní termín
	\\ \hline
	    
	\textbf{Primární aktéři} & Uživatel nebo neregistrovaný uživatel, systém
	\\ \hline
	
	\textbf{Sekundární aktéři} & -	   
	\\ \hline
	
	\textbf{Předpoklady} & Vybrán existující kurz
    \\ \hline
    
    \textbf{Následné podmínky} & Vytvořena přihláška na konkrétní kurz
    \\ \hline 
        
    \textbf{Akce pro spuštění} & Uživatel klikne na tlačítko "Přihlásit".
    \\ \hline
    
    \textbf{Hlavní tok} & 1. Uživatel vybere konkrétní kurz 
    	\newline 2. Uživatel vyplní přihlašovací formulář na kurz a klikne na tlačítko "Přihlásit"
    	\newline 3. Systém zpracuje formulář na základě vyplněného formuláře a vytvoří přihlášku na kurz
    \\ \hline
    
    \textbf{Alternativní toky} & -
    \\ \hline -
    
    \textbf{Vyjímky} & 1. Chybné údaje ve formuláři
    	\newline 2. Uzavřený termín
    	\newline 3. Chyba při poslání potvrzovacího emailu
    	\newline 4. Stejný uživatel jako lektor
    \\ \hline
    
	\textbf{Frekvence} & Několikrát denně
	\\ \hline
	
	\textbf{Speciální požadavky} & -
	\\ \hline
    \end{tabular}
\end{center}

\subsection{Přihlášení na termín: uzavřený termín během přihlašování}
\begin{center}
    \begin{tabular}{ | p{4.5cm} | p{13cm} | }
    \hline
    \textbf{Název} & Přihlášení na termín: uzavřený termín během přihlašování
    \\ \hline
    
	\textbf{Vytvořeno} & Pavel Macenauer 
	\\ \hline
	
	\textbf{Popis} & Uživatel se chce přihlásit na termín, který je již uzavřen. Tato situace může nastat v případě, že zaměstnanec uzavře přihlašování na kurz ve chvíli, kdy se na něj někdo hlásil.
	\\ \hline
	    
	\textbf{Primární aktéři} & Uživatel nebo neregistrovaný uživatel, systém
	\\ \hline
	
	\textbf{Sekundární aktéři} & Zaměstnanec   
	\\ \hline
	
	\textbf{Předpoklady} & 1. Termín kurzu je uzavřen
    \\ \hline
    
    \textbf{Následné podmínky} & 1. Systém uživateli oznámí, že daný termín je již obsazen a není již možno se na něj přihlásit
	    \newline 2. Systém již nepokračuje dále s podáním přihlášky
    \\ \hline 
        
    \textbf{Akce pro spuštění} & Uživatel podá přihlášku a termín na který se hlásí je již uzavřen.
    \\ \hline
    
    \textbf{Hlavní tok} & 1. Systém zjistí, že daný termín je již uzavřen
    	\newline 2. Systém přesměruje uživatele zpět na formulář přidání nového termínu a upozorní zaměstnance, že je třeba zvolit jiného lektora nebo jiný čas
    \\ \hline    
    
	\textbf{Frekvence} & Velmi vzácně při podávání přihlášky
	\\ \hline
	\end{tabular}
\end{center}

\subsection{Přihlášení na termín: chyba při odeslání emailu}
\begin{center}
    \begin{tabular}{ | p{4.5cm} | p{13cm} | }
    \hline
    \textbf{Název} & Přihlášení na termín: chyba při odeslání emailu
    \\ \hline
    
	\textbf{Vytvořeno} & Pavel Macenauer 
	\\ \hline
	
	\textbf{Popis} & Neodešle se potvrzovací email o přijmutí přihlášky
	\\ \hline
	    
	\textbf{Primární aktéři} & Systém
	\\ \hline
	
	\textbf{Sekundární aktéři} & Uživatel
	\\ \hline
	
	\textbf{Předpoklady} & 1. Uživatel odešle přihlášku na termín kurzu
    \\ \hline
    
    \textbf{Následné podmínky} & 1. Email se vloží do fronty neodeslaných emailů
    \\ \hline 
        
    \textbf{Akce pro spuštění} & 1. Nenaváže se spojení se SMTP serverem
    	\newline 2. SMTP server vrátí chybu při odeslání emailu
    \\ \hline
    
    \textbf{Hlavní tok} & 1. Uživatel vyplní formulář a odešle ho
    	\newline 2. Systém úspěšně validuje přihlášku a přidá ji
    	\newline 3. Systému se nepodaří odeslat potvrzovací email uživateli
    	\newline 4. Systém vloží email do fronty neodeslaných emailů
    \\ \hline    
    
	\textbf{Frekvence} & Velmi vzácně při podávání přihlášky
	\\ \hline
	\end{tabular}
\end{center}

\section{Uzavření termínu}
\begin{center}
    \begin{tabular}{ | p{4.5cm} | p{13cm} | }
    \hline
    \textbf{Název} & Uzavření termínu
    \\ \hline
    
	\textbf{Vytvořeno} & Pavel Macenauer 
	\\ \hline
	
	\textbf{Popis} & Uzavření přihlašování na konkrétní termín
	\\ \hline
	    
	\textbf{Primární aktéři} & Zaměstnanec
	\\ \hline
	
	\textbf{Sekundární aktéři} & -	   
	\\ \hline
	
	\textbf{Předpoklady} & Vybrán konkrétní termín
    \\ \hline
    
    \textbf{Následné podmínky} & Uzavřeno přihlašování na daný termín
    \\ \hline 
        
    \textbf{Akce pro spuštění} & Uživatel klikne na tlačítko "Uzavřít přihlašování"
    \\ \hline
    
    \textbf{Hlavní tok} & 1. Uživatel vybere řádek s konkrétním termínem a klikne na "Uzavřít přihlašování"
    	\newline 2. Systém uzavře přihlašování pro daný termín
    \\ \hline
    
    \textbf{Alternativní toky} & -
    \\ \hline -
    
    \textbf{Vyjímky} & 1. Chybné údaje ve formuláři
    	\newline 2. Uzavřený termín
    	\newline 3. Chyba při poslání potvrzovacího emailu
    	\newline 4. Stejný uživatel jako lektor
    \\ \hline
    
	\textbf{Frekvence} & Několikrát týdně
	\\ \hline
	
	\textbf{Speciální požadavky} & -
	\\ \hline
    \end{tabular}
\end{center}
		% ----------- konceptualny diagram tried -----------
		\begin{center}
			\captionsetup{type=figure}
			\includegraphics[height=17cm]{img/konceptualny_diagram_tried.eps}
			\captionof{figure}{Konceptuálny diagram tried po 1. iterácii.}
		\end{center}
		% ----------- schema DB -----------


\end{document}
